// Do not edit this file. Customize the file "settings.local.gradle" instead.

rootProject.name = 'scripts'

ext.localSettingsName = hasProperty("localSettingsName") ? localSettingsName : "settings.local.gradle"
ext.projectsDirName = hasProperty("projectsDirName") ? projectsDirName : "projects"

if (file(localSettingsName).exists())
{
	apply from: localSettingsName
}

if (projectsDirName == null || projectsDirName == "") {
	return
}

def projectFileName = "build.gradle"
def rootBuildFileName = "$projectsDirName/$projectFileName"
assert file(rootBuildFileName).exists()
rootProject.buildFileName = rootBuildFileName

def projectDiscovery
projectDiscovery = { projectName, dir ->
	dir.eachFile { file ->
		if (file.name.startsWith("_") || file.isFile() && (!file.name.endsWith(".gradle") || file.name == projectFileName)) {
			return;
		}
		
		def name = "$projectName:$file.name"
		if (file.isFile()) {
			name = name - ".gradle"
		}
		
		include name
		def proj = project(name)
		
		if (file.isFile()) {
			proj.projectDir = dir
			proj.buildFileName = file.name
		} else if (file.isDirectory()) {
			proj.projectDir = file
			projectDiscovery(name, file)
		}
	}
}

projectDiscovery("", file(projectsDirName))
